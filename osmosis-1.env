# Cosmos Chain Configuration
# Chain: osmosis-1 (mainnet)
# Documentation: https://docs.osmosis.zone/

# Core configuration
NETWORK=osmosis-1
MONIKER=osmosis-node
USER=ubuntu
DAEMON_NAME=osmosisd
DAEMON_HOME=$HOME/.osmosisd

# Node version and repository
NODE_VERSION=v29.0.0
NODE_REPO=https://github.com/osmosis-labs/osmosis

# Data directory
DATA_DIR=/mnt/data/blockchain/${NETWORK}

# Networking
P2P_PORT=26656
RPC_PORT=26657
REST_PORT=1317
GRPC_PORT=9090
GRPC_WEB_PORT=9091
PROMETHEUS_PORT=26660

# Public API for sync status checking
PUBLIC_API_URL=https://osmosis-api.polkachu.com

# Network configuration
GENESIS_URL=https://snapshots.polkachu.com/genesis/osmosis/genesis.json
SEEDS=f515a8599b40f0e84dfad935ba414674ab11a668@osmosis.blockpane.com:26656,ade4d8bc8cbe014af6ebdf3cb7b1e9ad36f412c0@seeds.polkachu.com:12556,20e1000e88125698264454a884812746c2eb4807@seeds.lavenderfive.com:12556,ebc272824924ea1a27ea3183dd0b9ba713494f83@osmosis-mainnet-seed.autostake.com:26716,3cc024d1c760c9cd96e6413abaf3b36a8bdca58e@seeds.goldenratiostaking.net:1630,e891d42c31064fb7e0d99839536164473c4905c2@seed-osmosis.freshstaking.com:31656,c28827cb96c14c905b127b92065a3fb4cd77d7f6@seeds.whispernode.com:12556,38ab18cb2ea1dfeb6232b429e1508f56b6ae5031@seed-osmosis-01.stakeflow.io:65535,954ab3a0551b592b654b1554af8fc8746ed7b362@seed-node.mms.team:31656,8542cd7e6bf9d260fef543bc49e59be5a3fa9074@seed.publicnode.com:26656,2cb8dd6195c65458e3c18505bb70ce2ff624f85c@seed.osmosis.validatus.com:2000,b85358e035343a3b15e77e1102857dcdaf70053b@seeds.bluestake.net:24856
PERSISTENT_PEERS=4d9ac3510d9f5cfc975a28eb2a7b8da866f7bc47@37.187.38.191:26656,2f9c16151400d8516b0f58c030b3595be20b804c@37.120.245.167:26656,ebc272824924ea1a27ea3183dd0b9ba713494f83@osmosis-mainnet-peer.autostake.com:26716,e891d42c31064fb7e0d99839536164473c4905c2@seed-osmosis.freshstaking.com:31656,38ab18cb2ea1dfeb6232b429e1508f56b6ae5031@peer-osmosis-01.stakeflow.io:65535,6f1d92857e39a6f26a3a914f807064824c255939@65.21.91.99:16956,50d0865decf5657eaf8e50e51bd9d8ce5f927f6c@peer-osmosis.mms.team:56102,b95edbc3337a6fdd672cd6af2790c0e9ade2c4dd@65.108.195.213:41656,10539f7c0e3ab233cf0deec9930aa8b660aeeabf@osmosis-mainnet.peers.l0vd.com:12656

# Snapshot configuration
SNAPSHOT=https://snapshots.polkachu.com/snapshots/osmosis/osmosis_36613555.tar.lz4

# State sync configuration
# State sync allows a node to quickly sync to the current state without downloading the entire blockchain
# 
# IMPORTANT: How to choose the right trust height and hash:
# - The trust height must be at least 2/3 of the unbonding period old (typically ~1000-2000 blocks)
# - For most chains, use a height that's at least 2000 blocks behind the current chain tip
# - You can find current height at: <RPC-STATUS-URL>
# - The trust hash must match the block hash at the specified height
# - Both RPC servers must be synced and serve the trust height block
# 
# To find a good height and hash:
# 1. Check current height: curl -s <RPC-STATUS-URL> | jq -r .result.sync_info.latest_block_height
# 2. Subtract 2000-3000 blocks for safety margin
# 3. Get the hash: curl -s <RPC-BLOCK-URL>?height=<TRUST_HEIGHT> | jq -r .result.block.header.app_hash
#
STATESYNC_ENABLE=true
STATESYNC_RPC_SERVERS=
STATESYNC_TRUST_HEIGHT=
STATESYNC_TRUST_HASH=
STATESYNC_TRUST_PERIOD=360h0m0s
STATESYNC_DISCOVERY_TIME=15s
STATESYNC_CHUNK_REQUEST_TIMEOUT=10s
STATESYNC_CHUNK_FETCHERS=4

# P2P settings
MAX_INBOUND_PEERS=40
MAX_OUTBOUND_PEERS=10
P2P_PEX=true
P2P_ADDR_BOOK_STRICT=false
P2P_FLUSH_THROTTLE_TIMEOUT=100ms
P2P_DIAL_TIMEOUT=3s
P2P_HANDSHAKE_TIMEOUT=20s
P2P_ALLOW_DUPLICATE_IP=true
PRIVATE_PEER_IDS=

# RPC settings
RPC_CORS_ALLOWED_ORIGINS=["*"]
RPC_MAX_OPEN_CONNECTIONS=2000
RPC_GRPC_MAX_OPEN_CONNECTIONS=2000

# Consensus settings
CONSENSUS_TIMEOUT_COMMIT=5s
CONSENSUS_CREATE_EMPTY_BLOCKS=true
CONSENSUS_TIMEOUT_PROPOSE=3s
CONSENSUS_TIMEOUT_PROPOSE_DELTA=500ms
CONSENSUS_TIMEOUT_PREVOTE=1s
CONSENSUS_TIMEOUT_PREVOTE_DELTA=500ms
CONSENSUS_TIMEOUT_PRECOMMIT=1s
CONSENSUS_TIMEOUT_PRECOMMIT_DELTA=500ms

# Mempool settings
MEMPOOL_SIZE=5000
MEMPOOL_CACHE_SIZE=10000
MEMPOOL_RECHECK=true
MEMPOOL_BROADCAST=true

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_LISTEN_ADDR=:26660
PROMETHEUS_NAMESPACE=tendermint

# FastSync and TX Index
FASTSYNC_VERSION=v0
TX_INDEX_INDEXER=kv

# Logging
LOG_LEVEL=info
NODE_LOG_FORMAT=plain

# External address (set to auto for automatic detection or specify manually)
EXTERNAL_ADDRESS=auto

# Minimum gas price configuration
MIN_GAS_PRICE=0.0025uosmo

# Pruning configuration
PRUNING_STRATEGY=custom
PRUNING_KEEP_RECENT=362880
PRUNING_INTERVAL=100

# Extra flags for the daemon (optional)
EXTRA_FLAGS=

# Docker compose settings
COMPOSE_FILE=cosmos.yml
