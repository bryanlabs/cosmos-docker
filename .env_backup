COMPOSE_FILE=thorchain.yml
MONIKER=thorchain-node-docker
NETWORK=thorchain-1

THORNODE_VERSION=v3.6.1
THORNODE_REPO=https://gitlab.com/thorchain/thornode
EXTRA_FLAGS=--grpc.address=0.0.0.0:9090
FORCE_REBUILD=false # force rebuilding the binary even if it already exists

# Use latest from official snapshots
# Leave empty to automatically use latest snapshot, or specify a URL
SNAPSHOT=
SNAPSHOT_API_URL=https://snapshots.ninerealms.com/snapshots?prefix=thornode
SNAPSHOT_BASE_URL=https://snapshots.ninerealms.com/snapshots/thornode/

# Network configuration
SEEDS=44aed6715bb6a294eec340daa0dfedc230884ab3@23.105.164.182:27146,55f9b1240155509ddce13e01254b6e8624266b63@23.105.164.137:27146,af54ec0412ba68f6ceaaf0e270a090d5a310785f@38.76.0.229:27146,9cd6294d6dc23e1e13079ae44f11bc56a1170d4b@38.76.0.228:27146,c66526c79ed00c2801856b47510dc91964a8a475@38.76.0.231:27146,949e532a05c028b25228a24fba831246912b7983@38.76.0.233:27146,14d848ee14dc5dc5b73d748d93794baa475c1564@38.76.0.230:27146,c60a59bb69ff195148a9fd0528ee055f5b936be9@38.76.0.232:27146,f54dd468c388d145858d6d9cf757f606a7b51352@34.138.122.135:27146,a9081100d3ac5a91ea2eb3da1d4e34a9dbe85984@18.189.152.242:27146,90cf7ef98504ae451b9ae7ac223f68cf8191b826@209.38.8.20:27146,38d2cc480582ef8b7d8db04f77c513f1f9abfb4b@146.190.188.105:27146,bd6ece92cc190a09da08b4e5b5678037c017a3dc@209.38.0.89:27146,8776f2f2ae79621871f39ab101617e5e231eb8f7@209.38.0.52:27146,243386094113ee059614fed39f95c8ca590caaba@159.203.52.11:27146,99499d9c6498e78c5e7ecf68565ae020d713f3e8@174.138.115.67:27146,fba74d4d600d3a89abc4c9498d9528b4f84783ca@35.238.4.251:27146,f37cc257448a23c72a4512ea10c6d05bff26d9c9@34.27.111.54:27146,604bec8b59a1a3af73416ab762fdd077e63f3fb0@34.27.105.133:27146,686f58550261d17b28916498d720bb93e221d8c6@34.27.163.124:27146,ef3a420909babadfadc933ef46900fe77351ac3c@159.89.245.158:27146,12e9bbb9d56224833536cf945807eba7a0fb41c0@45.55.123.103:27146,619befead4beeba49eaf65c997acf56a4e21d5a0@34.27.200.207:27146,c07105548c1fe50333bd9e9bb57e9ff435a95e2a@34.30.112.187:27146,0d592021cb6228b95d821efece89cb2660f03100@34.29.182.218:27146,c04c6b49e6e2d5bf594a544c7deb385c0d0a3f94@34.42.159.248:27146,e902cb473e0c3105c9a2709efaafdf11d582b59e@44.233.157.161:27146,be90e4ffa74696f90bdd92558a776f9fbd85d06c@78.13.78.31:27146,4509b9cc5a56816e41e7197d27e5271b1c751e5c@161.35.175.124:27146,45340754a3ad62d73e4ca48ea47382131e25e600@173.234.136.15:27146,0557f43679990f8139502508a8b635c108af9521@173.234.136.17:27146,0a71a4c22444f87791120a427f638696aef0139d@173.234.136.16:27146,1f8f874a569f4a094ba25f87d7e9f17f766034f1@173.234.136.31:27146,9aa118b30449cc7b77c1a7622d8ea42dc5e92e62@173.234.17.198:27146,a07e14e1fd217bb45301aec2f44a5254ade19074@139.59.198.163:27146,c665f2e1b6e70f0ea661b8fe41ea01c4ff7b5f15@149.202.143.144:27146,68d0b3a8accc3e6b1ea57dda7d484e9b1e6e7216@5.39.12.176:27146,1b59421da544ae509d76194331737d8ff38e38c1@104.248.138.15:27146,d609251bcfa3cb3ed14dc7823279d8fb6b37c84d@5.196.197.181:27146,a31032e4859bf14396998c806dada6b884ed1fa8@212.95.53.167:27146,90a47ab6164d78368b8a801e598ea7a83f0b2472@164.92.244.101:27146,02384b4a5690135c438fd676a52ea215961b4038@157.230.26.62:27146,6dbe214fa4c8d9a7517a15f74a2c60edfb420cc7@139.59.133.28:27146,ddb2c14888ef982ee2bb5eb5bd04d7a36f995ba2@207.154.246.144:27146,7ae96926e55071237c1c2405646ce1ee23d614ac@167.172.109.222:27146,f18693601ed7ef210cef3f3d9d0ea32445abc4ca@167.235.109.114:27146,eefb12658c9f7ac94c5fe94610bcda15a0aa83fb@51.38.109.36:27146,827ae35b7af32cd2489251fd07bb65384d26e690@185.16.38.223:27146,19e3b89737c4f107e4ced401d11f06c5c51c6648@185.16.38.159:27146,e4db7329c62eee1ecc92b7db36d39e517f507fec@95.214.53.245:27146,cd848b4a4f697902fbf8dbcc01e62194338e3926@149.50.101.27:27146,e4833c63fc8cf7600b6101252a9906fc65a04f70@157.230.108.159:27146,289d8818450d364d206b0059968200375a6e364c@149.50.110.235:27146,bbc0b2e34ffbdb3f5ae250072342955766ae3cf0@95.214.55.157:27146,428a23a3ad22a255fe05d9f42eb1a10c2fd9fc46@195.3.220.140:27146,e81c0325278206d944526758a4cf14b4da237a58@146.19.24.25:27146,3d221ed238859628fc3710ba34ace804ceebf9d8@195.3.223.168:27146,aa9f43f896fd83e8afd14f0b9ae14e0b0c6d0df5@138.68.184.241:27146,2cb6dabecb4a8a0b197ccd5a38e1e245e6238a98@185.16.39.65:27146,9e615c973e0afcaad10d9f693eb9cfb0060b892c@95.214.53.166:27146,388dd3fc90d09d4816d38abc242ea2d795d603fc@89.116.167.88:27146,26f247be4e8b08678f5a7e1460c80f9c8de616aa@149.50.110.215:27146,e3d456b3c877d60718136759a89c907b36df5628@157.180.9.84:27146,9a5d8348ad26789014bf8a762358cd82ae838267@65.109.103.49:27146,96bea475faf5d38a4492801bae09c3252e6900e4@65.108.43.178:27146,f2e7f4aeaa79b069cb201944b3af848d14e90e13@63.178.11.188:27146,3f9d665a5c3549da2d00f62949e6bfbdd3c42421@145.239.138.48:27146,efe894ce15d94bed539010677f1ac9d628a1cc42@34.88.39.139:27146,937bb7e6492de7a2d52d5d54fb5ace02541ac19b@34.88.64.113:27146,4623639ff4af30f28c38723c51d0a6414049b4bf@35.228.160.75:27146,09374addb5cf6101e413bf3547b1447db0418010@34.88.63.153:27146,fe1a7e037d38fef85293e1cf46c2d3643679b006@35.228.129.253:27146,75c45736637d534bf727758b0956ee94e95c9b35@35.228.135.141:27146,318d42b2dfe6c2d9d01144658382b2e82fbfef50@35.228.146.126:27146,3ae87900d0495afe510bab2b4497df705d8493c7@35.228.26.92:27146,479b144b04ff79e515543c7d4eb4828e79cfed16@64.176.72.109:27146,57b6b0e2283b6660bfb1ed849abb50f3466b95f7@34.201.225.52:27146,f690c5acc3877f4adc06067255e2e87912ddbe64@24.199.75.58:27146,06da9166e8c4e4bd7e9c8c919953777a592e4646@64.176.66.42:27146,64bf8cce2bfccfd00ea313906e13b0c56f9d3ce0@167.235.195.244:27146,ca81f1ea0ae19a39a12ab4f32b606ec711687bde@45.63.25.178:27146,09fbf2599bbe20c708c370dd8e6d15d5ae45fd90@144.6.50.250:27146,9ff17f85f3777a2eb72cac76d4defc98145aa2c4@144.6.50.253:27146,75a5caebbd084e7c416fb4904232158ff90df6dc@144.6.50.251:27146,c5384ede2b6b0235fa9efbd05fb9cd6488c56094@144.6.50.255:27146,11a2d6eb597c20f995cdc138efdfbb9a8193438f@207.148.81.183:27146,a860e06d1e8b46d9aa30551f69992c91a3f7cc90@45.63.27.5:27146,a74dce6940354e85a690462dec167e316dabc368@108.61.168.206:27146,26ded040e93ef21313d6e00eedb277ae5bd469ae@45.32.241.87:27146,c57d8b5199ad0fea6471b6ee52247d87d6977825@104.156.232.224:27146,b9d772ed35b15e7cdbfdaff5bafae7655f0ea47b@139.84.196.2:27146,8b2972b72d875b744ccdada9499df50aae4509d7@64.23.176.149:27146,f68833bd9d13bb9e23458d42380f00e40da03f34@139.84.197.24:27146,d1fd0a64df3aa93e363f3a152e44aef8ba025ed1@64.176.55.62:27146,12a297aa875821a2d12729042f3e9ed8f759f972@37.228.129.170:27146,d4cdbb87c497ace542875b87e60cbe7d4fe6564c@45.32.19.243:27146,daada4d7898cddd53f0f05d07fecd6f51d28c3d7@64.176.34.103:27146,3c929fb34a0d28a131d8cb037aa371aa939c4e0d@64.176.44.210:27146,81e7c4b7801af1a88f8796305273c862bda5ba27@67.219.110.109:27146,0fab51735b4a126fb34ea7256d89f8c5ec5d9287@149.28.129.80:27146,b9ee80f59668ecbb61fda05e0b5a764d3b9fd5be@149.28.136.239:27146,5cc19cef3257444c52e7fdb27bd85c544b57e459@149.28.148.42:27146,7dc185db3031f98a2d0759fad566e0cd93f13776@149.28.158.165:27146,b2004b72d9b23071973752c9d453365f26b43459@45.77.170.170:27146,747525c249654b8b2b4256d1f044408a342ff793@45.76.179.243:27146,b466028dc9f8adaf5b91acd17754575d5797c15a@45.77.255.42:27146,78d65eb75bbf737bdda276285e5f5ce1bee831a0@139.59.52.109:27146,8339b988f931118fd1b70437af71ccd00a6bb84b@139.59.54.126:27146,89c63d4a614c7925c8932ae7a596cbf416b7d688@144.126.255.207:27146,89865c89d72d6875a8c3b9fd7d0f5de1926e6b2b@68.183.244.113:27146,63ec978880fb2b53ca2a533c866b1fb8ee92a858@167.99.28.69:27146,84a68a70ce2468baf9fd8548424a32296e8a03c4@93.127.200.130:27146
PERSISTENT_PEERS=
GENESIS_URL=https://storage.googleapis.com/public-snapshots-ninerealms/genesis/17562000.json
EXTERNAL_ADDRESS=34.150.165.189:27146

# P2P Configuration - optimized values
MAX_INBOUND_PEERS=40
MAX_OUTBOUND_PEERS=10
P2P_PEX=true
P2P_ADDR_BOOK_STRICT=false
P2P_FLUSH_THROTTLE_TIMEOUT=100ms
P2P_DIAL_TIMEOUT=3s
P2P_HANDSHAKE_TIMEOUT=20s
P2P_ALLOW_DUPLICATE_IP=true
PRIVATE_PEER_IDS=

# Node Configuration
FAST_SYNC=true
LOG_FORMAT=plain
PROXY_APP=tcp://127.0.0.1:26658

# RPC Configuration
RPC_CORS_ALLOWED_ORIGINS=["*"]
RPC_MAX_OPEN_CONNECTIONS=900
RPC_GRPC_MAX_OPEN_CONNECTIONS=900

# State Sync Configuration  
STATESYNC_ENABLE=false
STATESYNC_RPC_SERVERS=https://rpc-v2.ninerealms.com:443,https://rpc-v2.ninerealms.com:443
STATESYNC_TRUST_PERIOD=360h0m0s

# Consensus Configuration
CONSENSUS_TIMEOUT_COMMIT=5s
CONSENSUS_CREATE_EMPTY_BLOCKS=true
CONSENSUS_TIMEOUT_PROPOSE=3s
CONSENSUS_TIMEOUT_PROPOSE_DELTA=500ms
CONSENSUS_TIMEOUT_PREVOTE=1s
CONSENSUS_TIMEOUT_PREVOTE_DELTA=500ms
CONSENSUS_TIMEOUT_PRECOMMIT=1s
CONSENSUS_TIMEOUT_PRECOMMIT_DELTA=500ms
CONSENSUS_SKIP_TIMEOUT_COMMIT=false
CONSENSUS_CREATE_EMPTY_BLOCKS_INTERVAL=0s
CONSENSUS_PEER_GOSSIP_SLEEP_DURATION=100ms
CONSENSUS_PEER_QUERY_MAJ23_SLEEP_DURATION=2s
CONSENSUS_DOUBLE_SIGN_CHECK_HEIGHT=0

# Mempool Configuration
MEMPOOL_SIZE=5000
MEMPOOL_CACHE_SIZE=10000
MEMPOOL_RECHECK=true
MEMPOOL_BROADCAST=true
MEMPOOL_MAX_TXS_BYTES=1073741824
MEMPOOL_MAX_TX_BYTES=1048576
MEMPOOL_MAX_BATCH_BYTES=0
MEMPOOL_KEEP_INVALID_TXS=false

# Additional P2P Configuration
P2P_SEND_RATE=5120000
P2P_RECV_RATE=5120000
P2P_MAX_PACKET_MSG_PAYLOAD_SIZE=1024
P2P_SEED_MODE=false
P2P_UNCONDITIONAL_PEER_IDS=
P2P_PERSISTENT_PEERS_MAX_DIAL_PERIOD=0s

# Additional RPC Configuration
RPC_CORS_ALLOWED_METHODS=["HEAD", "GET", "POST"]
RPC_CORS_ALLOWED_HEADERS=["Origin", "Accept", "Content-Type", "X-Requested-With", "X-Server-Time"]
RPC_UNSAFE=false
RPC_MAX_SUBSCRIPTION_CLIENTS=100
RPC_MAX_SUBSCRIPTIONS_PER_CLIENT=5
RPC_EXPERIMENTAL_SUBSCRIPTION_BUFFER_SIZE=200
RPC_EXPERIMENTAL_WEBSOCKET_WRITE_BUFFER_SIZE=200
RPC_EXPERIMENTAL_CLOSE_ON_SLOW_CLIENT=false
RPC_TIMEOUT_BROADCAST_TX_COMMIT=10s
RPC_MAX_BODY_BYTES=1000000
RPC_MAX_HEADER_BYTES=1048576

# Additional State Sync Configuration
STATESYNC_TRUST_HEIGHT=0
STATESYNC_TRUST_HASH=
STATESYNC_DISCOVERY_TIME=15s
STATESYNC_CHUNK_REQUEST_TIMEOUT=10s
STATESYNC_CHUNK_FETCHERS=4

# Additional Instrumentation Configuration
PROMETHEUS_LISTEN_ADDR=:26660
PROMETHEUS_MAX_OPEN_CONNECTIONS=3

# FastSync Configuration
FASTSYNC_VERSION=v0

# TX Index Configuration
TX_INDEX_INDEXER=kv

# Basic Node Configuration
DB_BACKEND=goleveldb
DB_DIR=data
ABCI=socket
FILTER_PEERS=false

# Standard Cosmos ports for our node
RPC_PORT=27147
P2P_PORT=27146
GRPC_PORT=9090
GRPC_WEB_PORT=9091
REST_PORT=1317

# Only need to change in distributed setups or modified ports.
THORNODE_HOST=http://thorchain:27147

# Secure web proxy - advanced use, please see instructions
DOMAIN=example.com
RPC_HOST=thorchain
RPC_LB=thorchain-lb
REST_HOST=thorchain-api
REST_LB=thorchain-api-lb
GRPC_HOST=thorchain-grpc
GRPC_LB=thorchain-grpc-lb

# External Docker network if using ext-network.yml
DOCKER_EXT_NETWORK=traefik_default

# Monitoring
# Port to scrape metrics.
MONITORING_PORT=8080
# Consensus RPC endpoint
MONITORING_RPC_ENDPOINT=
# Node to monitor
MONITORING_NODE=

# info, warn, error, trace
LOG_LEVEL=info

# You can pin the version of thorchain-docker here
SCRIPT_TAG=

# Used by thornode update - please do not adjust
ENV_VERSION=1
